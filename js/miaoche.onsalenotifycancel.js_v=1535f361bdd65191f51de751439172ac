!function(a){var b='<div class="onsalenotify_overlay_wrap" id="onsalenotify_overlay_wrap">   <img class="close" src="/img/tuan/tuan_index_icon_close_pop.png" />   <div class="cntcon">       <p class="title">确定要取消降价通知吗？</p>       <br />       <br />       <p class="subinfo">取消降价通知后您将无法收到该车的最新价格变化</p>       <br />       <br />       <br />       <br />       <br />       <br />       <p class="failtips"></p>       <span class="btn short red rightmargin cancel" id="onsalenotify_cancelbtn"></span>       <span class="btn short gray" id="onsalenotify_submitbtn"></span>   </div></div>';a.widget("miaoche.onsalenotifycancel",{_init:function(){var c=this,d=(c.options,c.element);a("div.onsalenotify_overlay_wrap",d).length||(d.append(b),a("#onsalenotify_overlay_wrap .cntcon p.title").text("确定要取消降价通知吗？"),a("#onsalenotify_cancelbtn").text("继续通知"),a("#onsalenotify_submitbtn").text("取消通知"),a("#onsalenotify_overlay_wrap .cancel").click(a.proxy(c.close,c)),a("#onsalenotify_overlay_wrap .close").click(a.proxy(c.close,c)),a("#onsalenotify_overlay_wrap #onsalenotify_submitbtn").click(a.proxy(c.onCompleteBtnClick,c)))},destroy:function(){this.element.find("div.onsalenotify_overlay_wrap").remove()},close:function(){this._trigger("close",null,null)},complete:function(){this._trigger("complete",null,{})},onCompleteBtnClick:function(b){var c=this,d=c.options,e="/aj_focus/del",f={id:d.id};a.ajax({url:e,data:f,dataType:"json",type:"POST",success:function(a){a&&0==a.code?c.complete():c.showTips(a.desc||"提交失败，请重试")},error:function(a){c.showTips("提交失败，请重试")}})},showTips:function(b){var c=a(".failtips");c.show().text(b||"提交失败，请重试"),window.setTimeout(function(){c.hide().text()},3e3)}})}(jQuery);